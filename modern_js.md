# Modern JS

## JS勉強会 開発環境編

JS = JavaScript

## 対象とする人

* JSを書いたことない人
* JSを書いたことあるけどあんまり良くわかってない人
* Nodeって何？って人

## スコープ

* フロントエンド(=ブラウザ上で動く)のJS
* モダンなJSの開発環境
* フロントエンドのライブラリ紹介

## モダンなJSとは

* JavaScriptはECMAScriptの実装
 - ECMAScriptの仕様は策定され続けている

ECMAScriptのバージョン:

* 1
* 2
* 3
* 4
* 5 (5.1) ← 知識がここで止まってる人が多い
* 6 (2015)
* 2016
* 2017
* 2018 ← 策定中

## なぜモダンなJSを知るべきか

* 古いJSは大規模なアプリケーション開発でつらみがある
  - テストがつらい！
  - モジュール化つらい！
  - 謎構文つらい！

それ、今は(だいぶ)解決できてますよ。

## 最近のJSの構成

今熱いと思われる構成

* Node
* Yarn
* Webpack
* Babel
* ESLint
* Jest
* 何かE2Eテストツール(ごめんなさい使ったこと無いです)

### Node

* JavaScriptoの実行
* Chromeと同じV8エンジン

何をするためのものか:

* JSの開発環境を動かす
  - JSの開発環境もまたJSでできている

### Yarn

* Facebook製
* パッケージマネージャー
* プロジェクトの構成管理ツール

主な機能:

* パッケージマネージャー
  - NPMパッケージにあるツールのインストール
  - RubyならGem
* 構成管理
  - ライブラリの依存解決
  - PHPならComposer
  - RubyならBundler
* CI
  - 開発中のタスク等をスクリプトとしてまとめる

似てるツールと違い:

* NPMとの違い
  - Node標準のパッケージマネージャ
  - 機能はYarnとほぼ同等
  - Yarnのほうが簡単、早い
    + 機能がうまくまとめられる
    + キャッシュの使い方がうまい
    + etc...
  - Yarnの方が厳格にベンダリングしてくれる
* GlupのビルドシステムヘルパーとYarnのNPM Scriptとの違い
  - スクリプトを実行する部分
  - Glupのエコシステムに依存しない
    + Glupの導入はやり過ぎだった

### Webpack

主な機能:

* バンドラー
  - 色々な種類のファイルを集める
    + JSだけではない！CSSや画像ファイルも
  - 変換して
    + たくさんのプラグイン、もちろんBabelも
  - ファイルに纏める
    + 一つのファイルにまとめたり、分割したり

似ているツールと違い:

* Glupのタスクランナーとの違い
  - コードを保存するとビルドしてくれる機能
  - Webpack単体でできる
* Browserifyとの違い
  - Browerify
    + 単一ファイルにまとめる
  - Webpack
    + 設定によって分割できる、しかも早い
* Parcelとの違い
  - Parcel
    + 設定ファイルなし(?!)
    + 早い
    + 単一ファイルにまとめる
  - Webpack
    + 設定ファイルが複雑
    + 多機能

### Babel

* トランスパイラー
  - ブラウザが対応してない新しい文法を古い書き方に置き換える
  - AltJSをJSに書き換える

### ESLint

主な機能:

* Linter
  - 良くない書き方に対して警告を出してくれる

### Jest

* Facebook製
* ユニットテストのためのテストライブラリ・ツール

似ているツールと違い:

* Mochaとの違い
  - Mocha
    + 柔軟性
    + 拡張性
  - Jest
    + 簡単
    + 高速
    + 全部入り
* Jasmineとの違い
  - そもそもJest自体がJasmineの上に乗って簡略化・更に機能を提供

### E2Eテスト

* NightWatch
* Karma

## フロントエンドライブラリ

* 大規模アプリを作る場合、JQueryよりよい選択肢がある
  - 簡単なことをするには楽
  - 複雑なことを構造的に書くには難しすぎる

* イケてるフロントエンドライブラリ

* React
* Vue

使ってみた結果Vueがいい気がしている

ReactとVueの違い

* エンドポイント
  - React
    + JSX
    + JSがエンドポイント
  - Vue
    + \*.vue
    + エンドポイントが(ほぼ)HTML
* 周辺ライブラリ
  - React
    + Redux (3rd party)
    + Material UI (3rd party)
  - Vue
    + Vuex (1st party)
    + Vuetify (3rd party)
* 環境構築支援
  - React
    + create-react-app
    + ビルドツールが独自構成
  - Vue
    + vue-cli
    + Webpack

VueはUIライブラリが発展途上であるが、状態管理のライブラリがファーストパーティ製で最新のものを使っていればとりあえず安定(対応して内とかほぼ無い)、環境構築も簡単で応用が効く。

# プロジェクト構成

フロントエンドのライブラリにテンプレート生成機能が付いている。

その機能を使うと秒で環境が構築できる。

```
vue init webpack hoge
```

# 最後に

間違ってる箇所ありましたら教えていただけるとありがたいです。
